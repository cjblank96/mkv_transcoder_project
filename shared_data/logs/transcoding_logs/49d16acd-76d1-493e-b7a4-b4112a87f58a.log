2025-07-24 21:52:53,406 - INFO - Job 49d16acd-76d1-493e-b7a4-b4112a87f58a initialized.
2025-07-24 21:52:53,407 - INFO - Original input file: Z:\landing_point\Video\The Green Knight\The Green Knight-FPL_MainFeature_t00.mkv
2025-07-24 21:52:53,419 - INFO - Final output file: Z:\landing_point\Video\The Green Knight\The Green Knight-FPL_MainFeature_t00_DV_P8.mkv
2025-07-24 21:52:53,420 - INFO - Local job staging directory: H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a
2025-07-24 21:52:53,421 - INFO - Disk space for Local Staging SSD (H:\staging):
2025-07-24 21:52:53,421 - INFO -   - Total: 3726.01 GB
2025-07-24 21:52:53,422 - INFO -   - Used: 2123.76 GB
2025-07-24 21:52:53,422 - INFO -   - Free: 1602.25 GB
2025-07-24 21:52:53,423 - INFO - === Entering transcode() for job 49d16acd-76d1-493e-b7a4-b4112a87f58a ===
2025-07-24 21:52:53,423 - INFO - Job dict: {
  "id": "49d16acd-76d1-493e-b7a4-b4112a87f58a",
  "input_path": "\"Z:\\landing_point\\Video\\The Green Knight\\The Green Knight-FPL_MainFeature_t00.mkv\"",
  "job_type": "dolby_vision",
  "status": "running",
  "worker_id": "CJBLANK",
  "output_path": null,
  "added_at": 1752956664.5436444,
  "retries": 1,
  "steps": {
    "copy_source": "pending",
    "get_metadata": "pending",
    "extract_p7": "pending",
    "convert_p8": "pending",
    "extract_rpu": "pending",
    "reencode_x265": "pending",
    "inject_rpu": "pending",
    "remux_final": "pending",
    "move_final": "pending"
  },
  "claimed_at": 1753415573.2683675
}
2025-07-24 21:52:53,432 - INFO - === Starting transcode pipeline for job 49d16acd-76d1-493e-b7a4-b4112a87f58a ===
2025-07-24 21:52:53,433 - INFO - Job dict: {'id': '49d16acd-76d1-493e-b7a4-b4112a87f58a', 'input_path': '"Z:\\landing_point\\Video\\The Green Knight\\The Green Knight-FPL_MainFeature_t00.mkv"', 'job_type': 'dolby_vision', 'status': 'running', 'worker_id': 'CJBLANK', 'output_path': None, 'added_at': 1752956664.5436444, 'retries': 1, 'steps': {'copy_source': 'pending', 'get_metadata': 'pending', 'extract_p7': 'pending', 'convert_p8': 'pending', 'extract_rpu': 'pending', 'reencode_x265': 'pending', 'inject_rpu': 'pending', 'remux_final': 'pending', 'move_final': 'pending'}, 'claimed_at': 1753415573.2683675}
2025-07-24 21:52:53,434 - INFO - Starting step: copy_source - Copying source file locally
2025-07-24 21:52:53,444 - INFO - Copying source file locally: from Z:\landing_point\Video\The Green Knight\The Green Knight-FPL_MainFeature_t00.mkv to H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\The Green Knight-FPL_MainFeature_t00.mkv
2025-07-24 22:12:46,430 - INFO - Copy successful.
2025-07-24 22:12:46,504 - INFO - Starting step: get_metadata - Getting video metadata
2025-07-24 22:12:46,511 - INFO - Attempting to get video metadata from H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\The Green Knight-FPL_MainFeature_t00.mkv
2025-07-24 22:12:46,924 - INFO - Successfully got frame rate: 23.976 fps.
2025-07-24 22:12:47,029 - INFO - Successfully got frame count from tag 'NUMBER_OF_FRAMES-eng': 186696 frames.
2025-07-24 22:12:55,058 - INFO - Probing for main video stream in: H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\The Green Knight-FPL_MainFeature_t00.mkv
2025-07-24 22:12:55,166 - INFO - Found main video stream at index: 0
2025-07-24 22:12:55,168 - INFO - Using map specifier '0:v:0' for ffmpeg.
2025-07-24 22:12:55,168 - INFO - Starting step: extract_p7 - Extracting Profile 7 HEVC stream
2025-07-24 22:12:55,169 - INFO - Executing ffmpeg stream copy: ffmpeg -i "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\The Green Knight-FPL_MainFeature_t00.mkv" -map 0:v:0 -c copy -y "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_p7.hevc"
2025-07-24 22:17:26,374 - INFO - Successfully completed: Extracting P7 stream
2025-07-24 22:17:26,434 - INFO - Starting step: convert_p8 - Converting P7 to P8.1
2025-07-24 22:17:26,443 - INFO - Converting to P8.1...
2025-07-24 22:17:26,446 - INFO - Executing command: dovi_tool -m 2 convert --discard -i "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_p7.hevc" -o "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_p8.hevc"
2025-07-24 22:21:51,791 - INFO - Converting to P8.1 successful.
2025-07-24 22:21:51,848 - INFO - Starting step: extract_rpu - Extracting RPU
2025-07-24 22:21:51,855 - INFO - Extracting RPU...
2025-07-24 22:21:51,858 - INFO - Executing command: dovi_tool extract-rpu -i "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_p8.hevc" -o "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\rpu.bin"
2025-07-24 22:24:09,771 - INFO - Extracting RPU successful.
2025-07-24 22:24:09,836 - INFO - Starting step: reencode_x265 - Re-encoding to x265
2025-07-24 22:24:09,838 - INFO - Executing ffmpeg command: ffmpeg -fflags +genpts -i "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_p8.hevc" -an -sn -dn -c:v libx265 -preset slow -crf 20.5 -threads 10 -x265-params pools=10:no-sao=1:early-skip=1:rd=3:me=hex -y "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_reencoded.hevc"
2025-07-24 22:24:09,925 - ERROR - ffmpeg version 7.1.1-full_build-www.gyan.dev Copyright (c) 2000-2025 the FFmpeg developers
2025-07-24 22:24:09,926 - ERROR - built with gcc 14.2.0 (Rev1, Built by MSYS2 project)
2025-07-24 22:24:09,926 - ERROR - configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-lcms2 --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-sdl2 --enable-libaribb24 --enable-libaribcaption --enable-libdav1d --enable-libdavs2 --enable-libopenjpeg --enable-libquirc --enable-libuavs3d --enable-libxevd --enable-libzvbi --enable-libqrencode --enable-librav1e --enable-libsvtav1 --enable-libvvenc --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxeve --enable-libxvid --enable-libaom --enable-libjxl --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-libharfbuzz --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-dxva2 --enable-d3d11va --enable-d3d12va --enable-ffnvcodec --enable-libvpl --enable-nvdec --enable-nvenc --enable-vaapi --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libcodec2 --enable-libilbc --enable-libgsm --enable-liblc3 --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint
2025-07-24 22:24:09,927 - ERROR - libavutil      59. 39.100 / 59. 39.100
2025-07-24 22:24:09,928 - ERROR - libavcodec     61. 19.101 / 61. 19.101
2025-07-24 22:24:09,929 - ERROR - libavformat    61.  7.100 / 61.  7.100
2025-07-24 22:24:09,929 - ERROR - libavdevice    61.  3.100 / 61.  3.100
2025-07-24 22:24:09,930 - ERROR - libavfilter    10.  4.100 / 10.  4.100
2025-07-24 22:24:09,930 - ERROR - libswscale      8.  3.100 /  8.  3.100
2025-07-24 22:24:09,931 - ERROR - libswresample   5.  3.100 /  5.  3.100
2025-07-24 22:24:09,932 - ERROR - libpostproc    58.  3.100 / 58.  3.100
2025-07-24 22:24:09,956 - ERROR - Input #0, hevc, from 'H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_p8.hevc':
2025-07-24 22:24:09,958 - ERROR - Duration: N/A, bitrate: N/A
2025-07-24 22:24:09,958 - ERROR - Stream #0:0: Video: hevc (Main 10), yuv420p10le(tv, bt2020nc/bt2020/smpte2084), 3840x2160 [SAR 1:1 DAR 16:9], 25 fps, 23.98 tbr, 1200k tbn
2025-07-24 22:24:09,959 - ERROR - Stream mapping:
2025-07-24 22:24:09,961 - ERROR - Stream #0:0 -> #0:0 (hevc (native) -> hevc (libx265))
2025-07-24 22:24:09,961 - ERROR - Press [q] to stop, [?] for help
2025-07-24 22:24:10,059 - ERROR - x265 [info]: HEVC encoder version 4.1+110-0e0eee580
2025-07-24 22:24:10,060 - ERROR - x265 [info]: build info [Windows][GCC 14.2.0][64 bit] 10bit
2025-07-24 22:24:10,062 - ERROR - x265 [info]: using cpu capabilities: MMX2 SSE2Fast LZCNT SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
2025-07-24 22:24:10,062 - ERROR - x265 [info]: Main 10 profile, Level-5 (Main tier)
2025-07-24 22:24:10,063 - ERROR - x265 [info]: Thread pool created using 10 threads
2025-07-24 22:24:10,064 - ERROR - x265 [info]: Slices                              : 1
2025-07-24 22:24:10,065 - ERROR - x265 [info]: frame threads / pool features       : 10 / wpp(34 rows)
2025-07-24 22:24:10,092 - ERROR - x265 [info]: Coding QT: max CU size, min CU size : 64 / 8
2025-07-24 22:24:10,093 - ERROR - x265 [info]: Residual QT: max TU size, max depth : 32 / 1 inter / 1 intra
2025-07-24 22:24:10,094 - ERROR - x265 [info]: ME / range / subpel / merge         : hex / 57 / 3 / 3
2025-07-24 22:24:10,095 - ERROR - x265 [info]: Keyframe min / max / scenecut / bias  : 23 / 250 / 40 / 5.00
2025-07-24 22:24:10,096 - ERROR - x265 [info]: Lookahead / bframes / badapt        : 25 / 4 / 2
2025-07-24 22:24:10,096 - ERROR - x265 [info]: b-pyramid / weightp / weightb       : 1 / 1 / 0
2025-07-24 22:24:10,097 - ERROR - x265 [info]: References / ref-limit  cu / depth  : 4 / on / on
2025-07-24 22:24:10,098 - ERROR - x265 [info]: AQ: mode / str / qg-size / cu-tree  : 2 / 1.0 / 32 / 1
2025-07-24 22:24:10,098 - ERROR - x265 [info]: Rate Control / qCompress            : CRF-20.5 / 0.60
2025-07-24 22:24:10,099 - ERROR - x265 [info]: tools: rect limit-modes rd=3 psy-rd=2.00 rdoq=2 psy-rdoq=1.00
2025-07-24 22:24:10,099 - ERROR - x265 [info]: tools: early-skip rskip mode=1 signhide tmvp
2025-07-24 22:24:10,100 - ERROR - x265 [info]: tools: strong-intra-smoothing lslices=4 deblock dhdr10-info
2025-07-24 22:24:10,101 - ERROR - Output #0, hevc, to 'H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_reencoded.hevc':
2025-07-24 22:24:10,101 - ERROR - Metadata:
2025-07-24 22:24:10,102 - ERROR - encoder         : Lavf61.7.100
2025-07-24 22:24:10,102 - ERROR - Stream #0:0: Video: hevc, yuv420p10le(tv, bt2020nc/bt2020/smpte2084, progressive), 3840x2160 [SAR 1:1 DAR 16:9], q=2-31, 23.98 fps, 23.98 tbn
2025-07-24 22:24:10,103 - ERROR - Metadata:
2025-07-24 22:24:10,104 - ERROR - encoder         : Lavc61.19.101 libx265
2025-07-24 22:24:10,105 - ERROR - Side data:
2025-07-24 22:24:10,105 - ERROR - Mastering Display Metadata, has_primaries:1 has_luminance:1 r(0.7080,0.2920) g(0.1700,0.7970) b(0.1310 0.0460) wp(0.3127, 0.3290) min_luminance=0.001000, max_luminance=1000.000000
2025-07-24 22:24:10,106 - ERROR - Content Light Level Metadata, MaxCLL=1000, MaxFALL=588
2025-07-24 22:24:10,107 - ERROR - cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: N/A
2025-07-25 04:13:12,724 - ERROR - [out#0/hevc @ 00000174a86be540] video:3755391KiB audio:0KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 0.000000%
2025-07-25 04:13:12,726 - ERROR - x265 [info]: frame I:   1403, Avg QP:18.68  kb/s: 29526.92
2025-07-25 04:13:12,727 - ERROR - x265 [info]: frame P:  40730, Avg QP:20.58  kb/s: 11486.92
2025-07-25 04:13:12,728 - ERROR - x265 [info]: frame B: 144563, Avg QP:25.80  kb/s: 1573.88
2025-07-25 04:13:12,728 - ERROR - x265 [info]: Weighted P-Frames: Y:6.7% UV:5.0%
2025-07-25 04:13:12,729 - ERROR - encoded 186696 frames in 20942.63s (8.91 fps), 3946.59 kb/s, Avg QP:24.61
2025-07-25 04:13:13,192 - INFO - Successfully completed: Re-encoding to x265
2025-07-25 04:13:13,253 - INFO - Starting step: inject_rpu - Injecting RPU
2025-07-25 04:13:13,260 - INFO - Injecting RPU...
2025-07-25 04:13:13,264 - INFO - Executing command: dovi_tool inject-rpu -i "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_reencoded.hevc" --rpu-in "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\rpu.bin" -o "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_final_with_rpu.hevc"
2025-07-25 04:14:19,366 - INFO - Injecting RPU successful.
2025-07-25 04:14:19,403 - INFO - Starting step: remux_final - Remuxing final MKV
2025-07-25 04:14:19,413 - INFO - Remuxing final MKV...
2025-07-25 04:14:19,416 - INFO - Executing command: mkvmerge -o "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\The Green Knight-FPL_MainFeature_t00_DV_P8.mkv" --language 0:eng "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\video_final_with_rpu.hevc" --no-video "H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\The Green Knight-FPL_MainFeature_t00.mkv"
2025-07-25 04:17:58,158 - INFO - Remuxing final MKV successful.
2025-07-25 04:17:58,245 - INFO - Starting step: move_final - Moving final file to destination
2025-07-25 04:17:58,251 - INFO - Moving final file from H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a\The Green Knight-FPL_MainFeature_t00_DV_P8.mkv to Z:\landing_point\Video\The Green Knight\The Green Knight-FPL_MainFeature_t00_DV_P8.mkv
2025-07-25 04:19:10,934 - INFO - Move successful.
2025-07-25 04:19:11,145 - INFO - === transcode() completed successfully for job 49d16acd-76d1-493e-b7a4-b4112a87f58a ===
2025-07-25 04:19:11,305 - INFO - Cleaning up job staging directory: H:\staging\49d16acd-76d1-493e-b7a4-b4112a87f58a
